<!doctype html>
<html>
<head>
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<meta content="utf-8" http-equiv="encoding">
	<title>Streamz</title>
	<link rel="stylesheet" href="normalize.css"/>
	<link rel="stylesheet" href="jquery-ui.css"/>
	<link rel="stylesheet" href="style.css"/>
</head>
<body>


<header>
	<nav>
		<a href="#" class="streamLink buttonLink customizeLink" data-bind="click: toggleCustomize, css: {active: isCustomizing}" title="Customize">A</a>
		<!--a href="#" class="streamLink buttonLink tileLink" data-bind="click: tileWindows" title="Tile windows">A</a-->
		<!-- ko foreach: visibleStreams -->
			<a href="#" class="streamLink" data-bind="click: $root.toggleWindow, text: name, css: {active: window}"></a>
		<!-- /ko -->
	</nav>
</header>

<main>
	<!-- ko foreach: windows -->
		<div class="window" data-bind="window: $data, visible: true" style="display:none">
			<div class="title">
				<span class="stream-name" data-bind="text: stream.name"></span>
				<!-- ko if: stream.type() !== 'shoutbox' -->
				<a href="#" data-bind="visible: $root.showReload, click: $root.reloadWindow" class="ui-icon ui-icon-arrowrefresh-1-e titleBtn" title="Reload" style="margin-left: 3px"></a>
				<a href="#" data-bind="visible: $root.showLocks, click: toggleLock, 
					css: {'ui-icon-locked': aspectRatioLocked, 'ui-icon-unlocked': !aspectRatioLocked()}" class="ui-icon titleBtn" title="Lock aspect ratio"></a>
				<!-- /ko -->
			</div>			
			<a href="#" data-bind="click: $root.closeWindow" class="ui-icon ui-icon-close closeBtn" title="Close"></a>
			<div class="player"></div>
			<div class="overlay" data-bind="visible: $root.showOverlay"></div>
		</div>
	<!-- /ko -->

	<div class="customizeWindow miscWindow" style="display: none" data-bind="visible: isCustomizing">
		<div class="title">Customize</div>
		<a href="#" data-bind="click: toggleCustomize" class="ui-icon ui-icon-close closeBtn" title="Close"></a>
		<a href="#" data-bind="click: addStream">Add Stream</a>
		<div class="content">
			<!-- ko foreach: streams -->
				<div>
					<input type="checkbox" data-bind="checked: visible" />
					<span data-bind="text: name" class="name"></span>
					<a href="#" data-bind="click: $root.editStream">Edit</a>
					<a href="#" data-bind="click: $root.moveUp"   class="button ui-icon ui-icon-carat-1-n"> </a>
					<a href="#" data-bind="click: $root.moveDown" class="button ui-icon ui-icon-carat-1-s"> </a>
				</div>
			<!-- /ko -->
			
			<hr />

			<div>
				<input type="checkbox" data-bind="checked: showReload" id="showReloadBtn" />
				<label for="showReloadBtn">Show reload buttons</label>
			</div>
			<div>
				<input type="checkbox" data-bind="checked: showLocks" id="showLocksBtn" />
				<label for="showLocksBtn">Show aspect-ratio lock buttons</label>
			</div>
		</div>
	</div>

	<div class="newsWindow miscWindow" data-bind="css: {visible: newsVisible}">
		<a href="#" data-bind="click: closeNews" class="ui-icon ui-icon-close closeBtn" title="Close"></a>
		<h4>news</h4>
		<div data-bind="foreach: newsItems">
			<div>- <span data-bind="text: $data"></span></div>
		</div>
	</div>
</main>

<div id="editStreamDlg" data-bind="with: editedStream" title="Add/Edit Stream" style="display:none">
	<p>Name: <input type="text" data-bind="value: name"/></p>
	<p>
		Type:
		<input type="radio" name="streamType" value="jwplayer" data-bind="checked: type" id="typeRad1"/><label for="typeRad1">jwplayer</label>
		<input type="radio" name="streamType" value="iframe" data-bind="checked: type" id="typeRad2"/><label for="typeRad2">iframe</label>
		<input type="radio" name="streamType" value="html" data-bind="checked: type" id="typeRad3"/><label for="typeRad3">html</label>
	</p>
	<p>
		Source:
		<textarea data-bind="value: src"></textarea>
	</p>
	<button class="ui-state-default" data-bind="click: remove, visible: origStream() && !origStream().isServerStream()">Delete stream</button>
	<hr/>
	<button class="ui-state-default" data-bind="click: ok">OK</button>
	<button class="ui-state-default" data-bind="click: close">Cancel</button>
</div>

<script type="text/html" id="shoutbox-template">
	<div class="shoutbox" data-bind="with: $parent.shoutbox">
		<div class="shoutbox-items-container" data-bind="foreach: items">
			<div class="shoutbox-item no-drag">				
				<span class="shouter-name" data-bind="text: name + ':'"></span>
				<span class="shout-msg" data-bind="text: msg"></span>
				<span class="shout-time">(<span data-bind="timeago: time"></span>)</span>
			</div>
		</div>
		<div class="shoutbox-inputbox">
			<div class="shoutbox-input-holder">
				<input type="text" data-bind="textInput: message, event: {keypress: onKeyPress}, hasFocus: true" 
					   maxlength="300" autofocus placeholder="type here to shout" />
			</div>
			<div class="shoutbox-name">
				name:
				<input type="text" data-bind="textInput: name" />
			</div>
		</div>
	</div>
</script>

<script src="http://jwpsrv.com/library/Av9ogCAyEeSQJyIAC0MJiQ.js"></script>
<script src="bundle.js"></script>

<img src="http://2no.co/1Yq44"/>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-53933709-1', 'auto');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>

</body>
</html>